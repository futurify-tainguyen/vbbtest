(function(A){if(typeof define==="function"&&define.amd){define(["jquery"],A)}else{if(typeof exports==="object"){A(require("jquery"))}else{A(window.jQuery)}}}(function(C){var A=0,D=C,B="parseJSON";if("JSON" in window&&"parse" in JSON){D=JSON;B="parse"}C.ajaxTransport("iframe",function(F){if(F.async){var E=F.initialIframeSrc||"javascript:false;",H,G,I;return{send:function(J,K){H=C('<form style="display:none;"></form>');H.attr("accept-charset",F.formAcceptCharset);I=/\?/.test(F.url)?"&":"?";if(F.type==="DELETE"){F.url=F.url+I+"_method=DELETE";F.type="POST"}else{if(F.type==="PUT"){F.url=F.url+I+"_method=PUT";F.type="POST"}else{if(F.type==="PATCH"){F.url=F.url+I+"_method=PATCH";F.type="POST"}}}A+=1;G=C('<iframe src="'+E+'" name="iframe-transport-'+A+'"></iframe>').bind("load",function(){var L,M=C.isArray(F.paramName)?F.paramName:[F.paramName];G.unbind("load").bind("load",function(){var N;try{N=G.contents();if(!N.length||!N[0].firstChild){throw new Error()}}catch(O){N=undefined}K(200,"success",{iframe:N});C('<iframe src="'+E+'"></iframe>').appendTo(H);window.setTimeout(function(){H.remove()},0)});H.prop("target",G.prop("name")).prop("action",F.url).prop("method",F.type);if(F.formData){C.each(F.formData,function(N,O){C('<input type="hidden"/>').prop("name",O.name).val(O.value).appendTo(H)})}if(F.fileInput&&F.fileInput.length&&F.type==="POST"){L=F.fileInput.clone();F.fileInput.after(function(N){return L[N]});if(F.paramName){F.fileInput.each(function(N){C(this).prop("name",M[N]||F.paramName)})}H.append(F.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data");F.fileInput.removeAttr("form")}H.submit();if(L&&L.length){F.fileInput.each(function(O,N){var P=C(L[O]);C(N).prop("name",P.prop("name")).attr("form",P.attr("form"));P.replaceWith(N)})}});H.append(G).appendTo(document.body)},abort:function(){if(G){G.unbind("load").prop("src",E)}if(H){H.remove()}}}}});C.ajaxSetup({converters:{"iframe text":function(E){return E&&C(E[0].body).text()},"iframe json":function(E){return E&&D[B](C(E[0].body).text())},"iframe html":function(E){return E&&C(E[0].body).html()},"iframe xml":function(E){var F=E&&E[0];return F&&C.isXMLDoc(F)?F:C.parseXML((F.XMLDocument&&F.XMLDocument.xml)||C(F.body).html())},"iframe script":function(E){return E&&C.globalEval(C(E[0].body).text())}}})}));